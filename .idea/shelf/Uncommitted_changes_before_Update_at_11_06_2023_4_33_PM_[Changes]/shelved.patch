Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>plugins {\r\n    id 'com.android.application'\r\n    id 'org.jetbrains.kotlin.android'\r\n    id 'com.google.gms.google-services'\r\n}\r\n\r\nandroid {\r\n    namespace 'com.example.scanit'\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId \"com.example.scanit\"\r\n        minSdk 24\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n\r\n    buildFeatures{\r\n        viewBinding true\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = '1.8'\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation platform('com.google.firebase:firebase-bom:32.1.0')\r\n    implementation 'com.google.android.material:material:<version>'\r\n\r\n\r\n    implementation 'androidx.core:core-ktx:1.10.1'\r\n    implementation 'androidx.appcompat:appcompat:1.6.1'\r\n    implementation 'com.google.android.material:material:1.9.0'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\r\n    implementation 'com.google.firebase:firebase-database-ktx:20.2.2'\r\n    implementation 'com.google.firebase:firebase-analytics-ktx'\r\n    implementation 'com.google.firebase:firebase-database:20.2.2'\r\n    implementation 'com.google.firebase:firebase-auth:22.0.0'\r\n    implementation 'com.google.firebase:firebase-auth-ktx:22.0.0'\r\n    implementation 'com.google.android.gms:play-services-analytics-impl:18.0.2'\r\n\r\n    testImplementation 'junit:junit:4.13.2'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\r\n\r\n    implementation 'com.google.android.gms:play-services-auth:16.0.1'\r\n}\r\napply plugin: 'com.google.gms.google-services'
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/build.gradle b/app/build.gradle
--- a/app/build.gradle	(revision 74221d1b26b49da7b44a6f10ed38e95dbbec3622)
+++ b/app/build.gradle	(date 1686470938716)
@@ -59,6 +59,10 @@
     androidTestImplementation 'androidx.test.ext:junit:1.1.5'
     androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'
 
-    implementation 'com.google.android.gms:play-services-auth:16.0.1'
+    implementation 'com.google.android.gms:play-services-auth:20.5.0'
+    implementation 'com.google.android.gms:play-services-vision:20.1.3'
+    implementation 'com.google.zxing:core:3.4.1'
+    implementation 'com.journeyapps:zxing-android-embedded:4.3.0'
+
 }
 apply plugin: 'com.google.gms.google-services'
\ No newline at end of file
Index: app/src/main/java/com/example/scanit/HomeFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.scanit\r\n\r\nimport android.content.Intent\r\nimport android.os.Bundle\r\nimport androidx.fragment.app.Fragment\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport androidx.cardview.widget.CardView\r\n\r\n\r\nclass HomeFragment : Fragment() {\r\n\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n\r\n    }\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_home, container, false)\r\n    }\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n\r\n        val button: CardView = view.findViewById(R.id.food_cv)\r\n\r\n        button.setOnClickListener {\r\n            val intent = Intent(requireContext(), ProductListActivity::class.java)\r\n            startActivity(intent)\r\n        }\r\n    }\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/scanit/HomeFragment.kt b/app/src/main/java/com/example/scanit/HomeFragment.kt
--- a/app/src/main/java/com/example/scanit/HomeFragment.kt	(revision 74221d1b26b49da7b44a6f10ed38e95dbbec3622)
+++ b/app/src/main/java/com/example/scanit/HomeFragment.kt	(date 1686472079686)
@@ -1,27 +1,48 @@
 package com.example.scanit
 
+import android.Manifest
 import android.content.Intent
 import android.os.Bundle
 import androidx.fragment.app.Fragment
 import android.view.LayoutInflater
 import android.view.View
 import android.view.ViewGroup
+import android.widget.ImageButton
+import android.widget.Toast
+import androidx.activity.result.ActivityResultLauncher
+import androidx.activity.result.contract.ActivityResultContracts
 import androidx.cardview.widget.CardView
 
 
 class HomeFragment : Fragment() {
-
+    private lateinit var requestCamera: ActivityResultLauncher<String>
 
     override fun onCreate(savedInstanceState: Bundle?) {
         super.onCreate(savedInstanceState)
-
     }
 
     override fun onCreateView(
+
         inflater: LayoutInflater, container: ViewGroup?,
         savedInstanceState: Bundle?
     ): View? {
+        val view = inflater.inflate(R.layout.fragment_home, container, false)
 
+        val scanBtn = view.findViewById<ImageButton>(R.id.btnScan)
+
+        // Request camera permission using registerForActivityResult
+        requestCamera = registerForActivityResult(ActivityResultContracts.RequestPermission()) { isGranted ->
+                if (isGranted) {
+                    val intent = Intent(activity, BarcodeScan::class.java)
+                    startActivity(intent)
+                } else {
+                    Toast.makeText(activity, "Permission not granted", Toast.LENGTH_SHORT).show()
+                }
+            }
+        scanBtn.setOnClickListener {
+            // Request camera permission
+            requestCamera.launch(Manifest.permission.CAMERA)
+        }
         // Inflate the layout for this fragment
         return inflater.inflate(R.layout.fragment_home, container, false)
     }
Index: app/src/main/res/layout/fragment_home.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".HomeFragment\">\r\n\r\n    <!-- TODO: Update blank fragment layout -->\r\n    <LinearLayout xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:background=\"@color/blue\"\r\n        android:orientation=\"vertical\"\r\n        android:paddingLeft=\"20dp\"\r\n        android:paddingRight=\"20dp\">\r\n\r\n\r\n        <androidx.appcompat.widget.LinearLayoutCompat\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"100dp\"\r\n            android:layout_marginTop=\"40dp\"\r\n            android:gravity=\"center_vertical\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <TextView\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"@string/product\"\r\n                android:textColor=\"@color/white\"\r\n                android:textSize=\"32sp\"\r\n                android:textStyle=\"bold\" />\r\n\r\n            <View\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_weight=\"3\"/>\r\n\r\n            <ImageButton\r\n                android:contentDescription=\"@string/click_to_scan_product\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:src=\"@drawable/barcode_scanner\"\r\n                android:background=\"@android:color/transparent\"/>\r\n        </androidx.appcompat.widget.LinearLayoutCompat>\r\n\r\n\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <androidx.cardview.widget.CardView\r\n                android:layout_width=\"150dp\"\r\n                android:layout_height=\"87dp\"\r\n                app:cardBackgroundColor=\"@color/yellow\"\r\n                app:cardCornerRadius=\"15dp\">\r\n\r\n                <TextView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:paddingStart=\"15dp\"\r\n                    android:paddingTop=\"18dp\"\r\n                    android:text=\"Total Products\"\r\n                    android:textColor=\"@color/blue\"\r\n                    android:textSize=\"15sp\"\r\n                    android:textStyle=\"bold\" />\r\n\r\n                <TextView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:fontFamily=\"sans-serif-black\"\r\n                    android:paddingStart=\"15dp\"\r\n                    android:paddingTop=\"40dp\"\r\n                    android:paddingEnd=\"15dp\"\r\n                    android:text=\"1,500\"\r\n                    android:textColor=\"@color/blue\"\r\n                    android:textSize=\"24sp\" />\r\n            </androidx.cardview.widget.CardView>\r\n\r\n\r\n            <View\r\n                android:layout_width=\"60dp\"\r\n                android:layout_height=\"0dp\" />\r\n\r\n\r\n            <androidx.cardview.widget.CardView\r\n                android:layout_width=\"150dp\"\r\n                android:layout_height=\"87dp\"\r\n                app:cardBackgroundColor=\"@color/yellow\"\r\n                app:cardCornerRadius=\"15dp\">\r\n\r\n                <TextView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:paddingStart=\"15dp\"\r\n                    android:paddingTop=\"18dp\"\r\n                    android:text=\"Stocks In Hand\"\r\n                    android:textColor=\"@color/blue\"\r\n                    android:textSize=\"15sp\"\r\n                    android:textStyle=\"bold\" />\r\n\r\n                <TextView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:fontFamily=\"sans-serif-black\"\r\n                    android:paddingStart=\"15dp\"\r\n                    android:paddingTop=\"40dp\"\r\n                    android:paddingEnd=\"15dp\"\r\n                    android:text=\"1,500\"\r\n                    android:textColor=\"@color/blue\"\r\n                    android:textSize=\"24sp\" />\r\n\r\n            </androidx.cardview.widget.CardView>\r\n\r\n        </LinearLayout>\r\n\r\n        <TextView\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"30dp\"\r\n            android:text=\"Category\"\r\n            android:textColor=\"@color/white\"\r\n            android:textSize=\"20dp\"\r\n            android:textStyle=\"bold\"\r\n            android:layout_marginBottom=\"49dp\"/>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:paddingLeft=\"20dp\"\r\n            android:paddingRight=\"20dp\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <androidx.cardview.widget.CardView\r\n                android:layout_width=\"310dp\"\r\n                android:id=\"@+id/food_cv\"\r\n                android:clickable=\"true\"\r\n                android:layout_height=\"70dp\"\r\n                android:backgroundTint=\"@color/light_yellow\"\r\n                android:layout_marginBottom=\"15dp\"\r\n                android:focusable=\"true\">\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:orientation=\"horizontal\"\r\n                    android:gravity=\"center_vertical\"\r\n                    android:paddingLeft=\"17dp\"\r\n                    android:paddingEnd=\"20dp\">\r\n                    <ImageView\r\n                        android:layout_width=\"43dp\"\r\n                        android:layout_height=\"43dp\"\r\n                        android:src=\"@drawable/food\"/>\r\n                    <TextView\r\n                        android:layout_weight=\"2\"\r\n                        android:layout_width=\"100dp\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"Food\"\r\n                        android:layout_marginLeft=\"10dp\"\r\n                        android:fontFamily=\"sans-serif-black\"\r\n                        android:textSize=\"20dp\"\r\n                        android:textColor=\"@android:color/black\"/>\r\n                    <ImageView\r\n\r\n                        android:layout_marginLeft=\"100dp\"\r\n                        android:layout_width=\"30dp\"\r\n                        android:layout_height=\"30dp\"\r\n                        android:src=\"@drawable/group_3\"/>\r\n                </LinearLayout>\r\n\r\n\r\n            </androidx.cardview.widget.CardView>\r\n\r\n            <androidx.cardview.widget.CardView\r\n                android:layout_width=\"310dp\"\r\n                android:layout_height=\"70dp\"\r\n                android:id=\"@+id/beverages_cv\"\r\n                android:clickable=\"true\"\r\n                android:focusable=\"true\"\r\n                android:backgroundTint=\"@color/yellow\"\r\n                android:layout_marginBottom=\"15dp\">\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:orientation=\"horizontal\"\r\n                    android:gravity=\"center_vertical\"\r\n                    android:paddingStart=\"17dp\"\r\n                    android:paddingEnd=\"20dp\"\r\n                    >\r\n                    <ImageView\r\n\r\n                        android:layout_width=\"43dp\"\r\n                        android:layout_height=\"43dp\"\r\n                        android:src=\"@drawable/drink\"/>\r\n                    <TextView\r\n                        android:layout_weight=\"2\"\r\n                        android:layout_width=\"100dp\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"Beverage\"\r\n                        android:layout_marginLeft=\"10dp\"\r\n                        android:fontFamily=\"sans-serif-black\"\r\n                        android:textSize=\"20dp\"\r\n                        android:textColor=\"@android:color/black\"/>\r\n                    <ImageView\r\n                        android:layout_weight=\"1\"\r\n                        android:layout_marginLeft=\"100dp\"\r\n                        android:layout_width=\"30dp\"\r\n                        android:layout_height=\"30dp\"\r\n                        android:src=\"@drawable/group_3\"/>\r\n                </LinearLayout>\r\n\r\n\r\n            </androidx.cardview.widget.CardView>\r\n\r\n            <androidx.cardview.widget.CardView\r\n                android:layout_width=\"310dp\"\r\n                android:layout_height=\"70dp\"\r\n                android:id=\"@+id/clothing_cv\"\r\n                android:clickable=\"true\"\r\n                android:focusable=\"true\"\r\n                android:backgroundTint=\"@color/light_yellow\"\r\n                android:layout_marginBottom=\"15dp\">\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:orientation=\"horizontal\"\r\n                    android:gravity=\"center_vertical\"\r\n                    android:paddingLeft=\"17dp\"\r\n                    android:paddingEnd=\"20dp\"\r\n                    >\r\n                    <ImageView\r\n\r\n                        android:layout_width=\"43dp\"\r\n                        android:layout_height=\"43dp\"\r\n                        android:src=\"@drawable/clothing\"/>\r\n                    <TextView\r\n                        android:layout_weight=\"2\"\r\n                        android:layout_width=\"100dp\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"Clothing\"\r\n                        android:layout_marginLeft=\"10dp\"\r\n                        android:fontFamily=\"sans-serif-black\"\r\n                        android:textSize=\"20dp\"\r\n                        android:textColor=\"@android:color/black\"/>\r\n                    <ImageView\r\n                        android:layout_weight=\"1\"\r\n                        android:layout_marginStart=\"100dp\"\r\n                        android:layout_width=\"30dp\"\r\n                        android:layout_height=\"30dp\"\r\n                        android:src=\"@drawable/group_3\"/>\r\n                </LinearLayout>\r\n\r\n\r\n            </androidx.cardview.widget.CardView>\r\n\r\n            <androidx.cardview.widget.CardView\r\n                android:layout_width=\"310dp\"\r\n                android:layout_height=\"70dp\"\r\n                android:clickable=\"true\"\r\n                android:focusable=\"true\"\r\n                android:id=\"@+id/supplies_cv\"\r\n                android:backgroundTint=\"@color/yellow\"\r\n                android:layout_marginBottom=\"15dp\">\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:orientation=\"horizontal\"\r\n                    android:gravity=\"center_vertical\"\r\n                    android:paddingStart=\"17dp\"\r\n                    android:paddingEnd=\"20dp\"\r\n                    >\r\n                    <ImageView\r\n\r\n                        android:layout_width=\"43dp\"\r\n                        android:layout_height=\"43dp\"\r\n                        android:src=\"@drawable/supplies\"/>\r\n                    <TextView\r\n                        android:layout_weight=\"2\"\r\n                        android:layout_width=\"100dp\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginStart=\"10dp\"\r\n                        android:text=\"@string/supplies\"\r\n                        android:fontFamily=\"sans-serif-black\"\r\n                        android:textSize=\"20dp\"\r\n                        android:textColor=\"@android:color/black\"/>\r\n                    <ImageView\r\n                        android:layout_weight=\"1\"\r\n                        android:layout_marginLeft=\"100dp\"\r\n                        android:layout_width=\"30dp\"\r\n                        android:layout_height=\"30dp\"\r\n                        android:src=\"@drawable/group_3\"/>\r\n                </LinearLayout>\r\n            </androidx.cardview.widget.CardView>\r\n        </LinearLayout>\r\n    </LinearLayout>\r\n\r\n</FrameLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_home.xml b/app/src/main/res/layout/fragment_home.xml
--- a/app/src/main/res/layout/fragment_home.xml	(revision 74221d1b26b49da7b44a6f10ed38e95dbbec3622)
+++ b/app/src/main/res/layout/fragment_home.xml	(date 1686469941353)
@@ -36,11 +36,14 @@
                 android:layout_weight="3"/>
 
             <ImageButton
+                android:id="@+id/btnScan"
                 android:contentDescription="@string/click_to_scan_product"
                 android:layout_width="wrap_content"
                 android:layout_height="wrap_content"
                 android:src="@drawable/barcode_scanner"
-                android:background="@android:color/transparent"/>
+                android:background="@android:color/transparent"
+                android:onClick="btnScan"
+                />
         </androidx.appcompat.widget.LinearLayoutCompat>
 
 
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\">\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:dataExtractionRules=\"@xml/data_extraction_rules\"\r\n        android:fullBackupContent=\"@xml/backup_rules\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.ScanIt\"\r\n        tools:targetApi=\"31\">\r\n        <activity\r\n            android:name=\".ProductListActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Signup\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".Login\"\r\n            android:exported=\"true\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n        <activity\r\n            android:name=\".AddProductActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".MainActivity\"\r\n            android:exported=\"true\">\r\n\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
--- a/app/src/main/AndroidManifest.xml	(revision 74221d1b26b49da7b44a6f10ed38e95dbbec3622)
+++ b/app/src/main/AndroidManifest.xml	(date 1686471371025)
@@ -2,6 +2,10 @@
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:tools="http://schemas.android.com/tools">
 
+    <uses-permission android:name="android.permission.CAMERA" />
+
+    <uses-feature android:name="android.hardware.camera.autofocus" />
+
     <application
         android:allowBackup="true"
         android:dataExtractionRules="@xml/data_extraction_rules"
@@ -12,6 +16,9 @@
         android:supportsRtl="true"
         android:theme="@style/Theme.ScanIt"
         tools:targetApi="31">
+        <activity
+            android:name=".barcodeScan"
+            android:exported="false" />
         <activity
             android:name=".ProductListActivity"
             android:exported="false" />
@@ -32,9 +39,7 @@
             android:exported="false" />
         <activity
             android:name=".MainActivity"
-            android:exported="true">
-
-        </activity>
+            android:exported="true" />
     </application>
 
 </manifest>
\ No newline at end of file
Index: app/src/main/java/com/example/scanit/barcodeScan.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/scanit/barcodeScan.kt b/app/src/main/java/com/example/scanit/barcodeScan.kt
new file mode 100644
--- /dev/null	(date 1686472167103)
+++ b/app/src/main/java/com/example/scanit/barcodeScan.kt	(date 1686472167103)
@@ -0,0 +1,86 @@
+package com.example.scanit
+
+import android.annotation.SuppressLint
+import androidx.appcompat.app.AppCompatActivity
+import android.os.Bundle
+import android.view.SurfaceHolder
+import android.widget.Toast
+import com.example.scanit.databinding.ActivityBarcodeScanBinding
+import com.google.android.gms.vision.CameraSource
+import com.google.android.gms.vision.Detector
+import com.google.android.gms.vision.barcode.Barcode
+import com.google.android.gms.vision.barcode.BarcodeDetector
+import java.io.IOException
+
+
+class BarcodeScan : AppCompatActivity() {
+    private lateinit var binding: ActivityBarcodeScanBinding
+    private lateinit var barcodeDetect: BarcodeDetector
+    private lateinit var cameraSource: CameraSource
+    var intentData = ""
+    override fun onCreate(savedInstanceState: Bundle?) {
+        super.onCreate(savedInstanceState)
+        binding = ActivityBarcodeScanBinding.inflate(layoutInflater)
+        setContentView(binding.root)
+    }
+    private fun iniBc(){
+        barcodeDetect = BarcodeDetector.Builder(this)
+            .setBarcodeFormats(Barcode.EAN_13)
+            .build()
+        cameraSource = CameraSource.Builder(this,barcodeDetect)
+            .setRequestedPreviewSize(1920, 1080 )
+            .setFacing(CameraSource.CAMERA_FACING_BACK)
+            .setAutoFocusEnabled(true)
+            .build()
+        binding.viewScan!!.holder.addCallback(object : SurfaceHolder.Callback{
+            @SuppressLint("MissingPermission")
+            override fun surfaceCreated(holder: SurfaceHolder) {
+                try{
+                    cameraSource.start(binding.viewScan!!.holder)
+
+                }catch (e:IOException){
+                    e.printStackTrace()
+                }
+            }
+
+            override fun surfaceChanged(
+                holder: SurfaceHolder,
+                format: Int,
+                width: Int,
+                height: Int
+            ) {
+
+            }
+
+            override fun surfaceDestroyed(holder: SurfaceHolder) {
+                cameraSource.stop()
+            }
+        })
+        barcodeDetect.setProcessor(object : Detector.Processor<Barcode>{
+            override fun release() {
+                Toast.makeText(applicationContext,"Barcode Scanner has been stopped",Toast.LENGTH_SHORT).show()
+            }
+
+            override fun receiveDetections(detections: Detector.Detections<Barcode>) {
+                val barcodes = detections.detectedItems
+                if(barcodes.size() != 0){
+                    binding.btnAct!!.text = "SEARCH ITEM"
+                    intentData = barcodes.valueAt(0).displayValue
+                    binding.barText.setText(intentData)
+                    //finish()
+                }
+            }
+
+        })
+    }
+    override fun onPause(){
+        super.onPause()
+        cameraSource!!.release()
+    }
+
+    override fun onResume(){
+        super.onResume()
+        iniBc()
+    }
+
+}
\ No newline at end of file
Index: app/src/main/res/layout/activity_barcode_scan.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_barcode_scan.xml b/app/src/main/res/layout/activity_barcode_scan.xml
new file mode 100644
--- /dev/null	(date 1686471430456)
+++ b/app/src/main/res/layout/activity_barcode_scan.xml	(date 1686471430456)
@@ -0,0 +1,40 @@
+<?xml version="1.0" encoding="utf-8"?>
+<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:background="#FFFFFF"
+    tools:context=".BarcodeScan">
+
+    <SurfaceView
+        android:id="@+id/viewScan"
+        android:layout_width="366dp"
+        android:layout_height="310dp"
+        android:layout_below="@+id/barText"
+        app:layout_constraintBottom_toTopOf="@+id/btnAct"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintHorizontal_bias="0.652"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toBottomOf="@+id/barText"
+        app:layout_constraintVertical_bias="0.306" />
+
+    <TextView
+        android:id="@+id/barText"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginStart="10dp"
+        android:text="No Barcode Detect"
+        android:textColor="@android:color/black"
+        android:textSize="24sp" />
+
+    <Button
+        android:id="@+id/btnAct"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:text=""
+        app:layout_constraintBottom_toBottomOf="parent"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintStart_toStartOf="parent" />
+
+</androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
